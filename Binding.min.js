"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var SRBinding;(function(e){var t=/^\{Binding (_|[a-zA-Z])+(\w*)\}$/;var n=function(){function e(t){_classCallCheck(this,e);this.data=t;this._observers=[]}_createClass(e,[{key:"notify",value:function e(t,n){this._observers.forEach(function(e){e.update(t,n)})}},{key:"addListener",value:function e(t){if(this._observers.find(function(e){return e.id===t.id})===undefined){this._observers.push(t)}}},{key:"removeListener",value:function e(t){var n=void 0;if(typeof t==="string"){n=t}else{n=t.id}var i=this._observers.findIndex(function(e){return e.id===n});if(i!==-1){this._observers.splice(i,1)}}},{key:"clear",value:function e(){this._observers=[]}}]);return e}();e.BindingData=n;var i=function(){function e(t,n,i,r,a){_classCallCheck(this,e);this.node=t;this.binding=n;this.bindingAttrs=i;this.bindingContents=r;this.mutationObserver=a}_createClass(e,[{key:"update",value:function e(t,n){if(this.node.nodeType===1){var i=this.bindingContents.findIndex(function(e){return e===t});if(i===-1){return}var r=this.bindingAttrs[i];var a=this.node.attributes;var s=a.getNamedItem(r);if(s===null){throw"Can't find attribute named "+r+""}if(s.nodeValue!==n){s.nodeValue=n;if((this.node.nodeName==="INPUT"||this.node.nodeName==="TEXTAREA")&&r==="value"){this.node.value=n}}return}if(this.node.nodeType===3){var o=this.bindingContents.findIndex(function(e){return e===t});if(o===-1){return}this.node.nodeValue=n}}}]);return e}();var r=function(){function e(t,n){_classCallCheck(this,e);this.id=t;this.data=n;this._observers=[];this.compileChildNodes=true;this.compileAllChildNodes=false;this.data.addListener(this);s(this)}_createClass(e,[{key:"update",value:function e(t,n){this.notify(t,n)}},{key:"addListener",value:function e(t){if(this._observers.find(function(e){return e.node===t.node})===undefined){this._observers.push(t)}}},{key:"removeListener",value:function e(t){var n=void 0;if(t instanceof i){n=t.node}else{n=t}var r=this._observers.findIndex(function(e){return e.node===n});if(r!==-1){this._observers[r].mutationObserver.disconnect();this._observers.splice(r,1)}}},{key:"notify",value:function e(t,n){this._observers.forEach(function(e){e.update(t,n)})}},{key:"compile",value:function e(){var t=document.getElementById(this.id);if(t===null){throw"Can't find node by ID: "+this.id}d(t,this,this.compileChildNodes,this.compileAllChildNodes)}},{key:"clear",value:function e(){this._observers.forEach(function(e){e.mutationObserver.disconnect()});this._observers=[];this.data.removeListener(this)}}]);return e}();e.Binding=r;function a(e,t){var n=e.data.data;Object.defineProperty(e,t,{get:function e(){return n[t]},set:function i(r){if(r===e.data[t]){return}n[t]=r;e.data.notify(t,r)}})}function s(e){Object.keys(e.data.data).forEach(function(t){a(e,t)})}function o(e,n){var r=e.data.trim();if(r.match(t)!==null){var a=r.substring(9,r.length-1);if(n[a]!==undefined){e.nodeValue=n[a];var s=new MutationObserver(function(e){e.forEach(function(e){var t=e.target.nodeValue;if(e.oldValue!==t){n[a]=t}})});s.observe(e,{characterData:true,characterDataOldValue:true});var o=new i(e,n,["nodeValue"],[a],s);n.addListener(o)}}return}function u(e,n,r,a){var s=[];var o=[];if(e.hasAttributes()){var u=e.attributes;for(var f=0;f<u.length;f++){var l=u[f];var c=u[f].nodeValue;if(l.nodeValue.trim().match(t)!==null){var h=l.nodeValue.substring(9,l.nodeValue.length-1);if(n[h]!==undefined){s.push(l.nodeName);o.push(h);if(l.nodeName==="value"&&(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA")){e.addEventListener("input",function(e){var t=e.target;var n=t.value;t.setAttribute("value",n);t.value=n},false)}l.nodeValue=n[h]}}}}if((r||a)&&e.hasChildNodes()){var v=void 0;if(a){v=true}else{v=false}var b=document.createDocumentFragment();var m=e.firstChild;while(m!==null){d(m,n,v,a);b.appendChild(m);m=e.firstChild}e.appendChild(b)}if(s.length!==0||(r||a)&&e.hasChildNodes()){var g=new MutationObserver(function(e){e.forEach(function(e){if(e.type==="attributes"){var t=e.target.attributes.getNamedItem(e.attributeName).nodeValue;if(e.oldValue!==t){var i=s.findIndex(function(t){return t===e.attributeName});n[o[i]]=t}if((e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA")&&e.attributeName==="value"){e.target.value=t}return}if(e.type==="childList"){if(e.removedNodes!==null){e.removedNodes.forEach(function(e){n.removeListener(e)})}if(e.addedNodes!==null){e.addedNodes.forEach(function(e){d(e,n,r,r)})}}})});var p={};if(s.length!==0){p.attributes=true;p.attributeOldValue=true;p.attributeFilter=s}if(r||a){p.childList=true}g.observe(e,p);var y=new i(e,n,s,o,g);n.addListener(y)}return}function d(e,t,n,i){if(e.nodeType===1){u(e,t,n,i);return}if(e.nodeType===3){o(e,t);return}}})(SRBinding||(SRBinding={}));